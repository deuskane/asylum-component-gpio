CAPI=2:

#-----------------------------------------------------------------------------
# Title      : GPIO Core file
# Project    : Asylum
#-----------------------------------------------------------------------------
# File       : GPIO.core
# Author     : mrosiere
#-----------------------------------------------------------------------------
# Description: 
#-----------------------------------------------------------------------------
# Copyright (c) 2021
#-----------------------------------------------------------------------------
# Revisions  :
# Date        Version  Author   Description
# 2022-03-31  1.1.0    mrosiere Update source code
# 2021-10-26  1.0.0    mrosiere Created
#-----------------------------------------------------------------------------

name        : asylum:component:GPIO:1.1.0
description : GPIO Module

generate:
  gen_csr:
    generator : regtool
    parameters:
      file: src/csr/GPIO.hjson
      name: GPIO
      copy: True
filesets:

  #---------------------------------------
  # Source Files
  #---------------------------------------
  files_hdl:
    files     :
      - src/GPIO.vhd
    file_type : vhdlSource
    depend    :
      - asylum:utils:generators
      
  #---------------------------------------
  # Testbench Files
  #---------------------------------------
  files_sim:
    files:
      - sim/tb_GPIO_bidir.vhd
    file_type : vhdlSource

targets:

  #---------------------------------------
  # Default Target
  #---------------------------------------
  default: &default
    description     : Default Target
    filesets        :
      - files_hdl
    toplevel        : GPIO
    default_tool    : ghdl

  sim:
    << : *default
    description     : Simulation of all cases
    filesets_append :
      - files_sim
    toplevel        : tb_GPIO_bidir
    default_tool    : ghdl
    generate        :
      - gen_csr
    tools :
      ghdl :
        run_options : ["--vcd=dut.vcd"]

